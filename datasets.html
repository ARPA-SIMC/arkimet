
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Datasets &#8212; arkimet 1.16 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="iseg dataset format" href="datasets/iseg.html" />
    <link rel="prev" title="Matching run information" href="matcher/run.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="datasets">
<span id="id1"></span><h1>Datasets<a class="headerlink" href="#datasets" title="Permalink to this headline">¶</a></h1>
<p>Arkimet supports different dataset formats, which offer different performance
and indexing features to match various ways in which data is stored and
queried.</p>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="datasets/iseg.html"><code class="docutils literal notranslate"><span class="pre">iseg</span></code> dataset format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets/iseg.html#example-configuration">Example configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets/iseg.html#dataset-layout">Dataset layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets/iseg.html#check-and-repack-on-concat-segments">Check and repack on <code class="docutils literal notranslate"><span class="pre">concat</span></code> segments</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets/iseg.html#check-and-repack-on-dir-segments">Check and repack on <code class="docutils literal notranslate"><span class="pre">dir</span></code> segments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="datasets/simple.html"><code class="docutils literal notranslate"><span class="pre">simple</span></code> dataset format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets/simple.html#example-configuration">Example configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets/simple.html#dataset-layout">Dataset layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets/simple.html#general-check-and-repack-notes">General check and repack notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets/simple.html#check-and-repack-on-concat-segments">Check and repack on concat segments</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets/simple.html#check-and-repack-on-dir-segments">Check and repack on dir segments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="datasets/ondisk2.html"><code class="docutils literal notranslate"><span class="pre">ondisk2</span></code> dataset format</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="datasets/archive.html">dataset archives</a><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets/archive.html#online-archives">Online archives</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets/archive.html#offline-archives">Offline archives</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="datasets/error.html"><code class="docutils literal notranslate"><span class="pre">error</span></code> dataset</a><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets/error.html#example-configuration">Example configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="datasets/duplicates.html"><code class="docutils literal notranslate"><span class="pre">duplicates</span></code> dataset</a><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets/duplicates.html#example-configuration">Example configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="datasets/remote.html"><code class="docutils literal notranslate"><span class="pre">remote</span></code> dataset</a><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets/remote.html#example-configuration">Example configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="datasets/outbound.html"><code class="docutils literal notranslate"><span class="pre">outbound</span></code> dataset</a><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets/outbound.html#example-configuration">Example configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="datasets/discard.html"><code class="docutils literal notranslate"><span class="pre">discard</span></code> dataset</a><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets/discard.html#example-configuration">Example configuration</a></li>
</ul>
</li>
</ul>
</div>
<section id="dataset-configuration">
<span id="dataset-config"></span><h2>Dataset configuration<a class="headerlink" href="#dataset-configuration" title="Permalink to this headline">¶</a></h2>
<p>Datasets are configured with simple <code class="docutils literal notranslate"><span class="pre">key</span> <span class="pre">=</span> <span class="pre">value</span></code> configuration options.</p>
<p>These are all the supported options:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">archive</span> <span class="pre">age</span></code>: data older than this number of days will be moved to the
dataset archive during maintenance.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delete</span> <span class="pre">age</span></code>: data older than this number of days will be deleted during
maintenance.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">eatmydata</span></code>: disable <cite>fsync</cite>/<cite>fdatasync</cite> operations while writing data to
dataset, and disable sqlite’ journaling and other data integrity features.
This makes acquiring data very fast, but an interrupted import or a
concurrent import may cause data corruption.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">format</span></code>: format of data in the dataset (one of <code class="docutils literal notranslate"><span class="pre">grib</span></code>, <code class="docutils literal notranslate"><span class="pre">bufr</span></code>, <code class="docutils literal notranslate"><span class="pre">odimh5</span></code>, <code class="docutils literal notranslate"><span class="pre">vm2</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index</span></code>: comma-separated list of names of metadata to index for faster queries</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">path</span></code>: path to the dataset, or URL for <code class="docutils literal notranslate"><span class="pre">remote</span></code> datasets.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">replace</span></code>: when <code class="docutils literal notranslate"><span class="pre">yes</span></code>, importing duplicate data will replace the existing
version . When <code class="docutils literal notranslate"><span class="pre">no</span></code>, importing duplicate data will be rejected. When
<code class="docutils literal notranslate"><span class="pre">usn</span></code>, importing duplicate BUFR data will replace the existing version only
if the BUFR Update Sequence Number is greater than the one currently in the
dataset. A replace leaves the old data in the segment and appends the new
data at the end, updating the index to refer to the new data. As with deleted
data, disk space is only reclaimed when running <code class="docutils literal notranslate"><span class="pre">arki-check</span> <span class="pre">--repack</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">restrict</span></code>: comma-separated list of names that have access to the dataset.
This allows filtering with the <code class="docutils literal notranslate"><span class="pre">--restrict</span></code> option on command line.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">smallfiles</span></code>: <code class="docutils literal notranslate"><span class="pre">yes</span></code> or <code class="docutils literal notranslate"><span class="pre">no</span></code>. When <code class="docutils literal notranslate"><span class="pre">yes</span></code>, the file contents are also
saved in the index, to speed up extraction of data with tiny payloads like
<code class="docutils literal notranslate"><span class="pre">vm2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">step</span></code>: segmentation step for the dataset (one of <code class="docutils literal notranslate"><span class="pre">daily</span></code>, <code class="docutils literal notranslate"><span class="pre">weekly</span></code>,
<code class="docutils literal notranslate"><span class="pre">biweekly</span></code>, <code class="docutils literal notranslate"><span class="pre">monthly</span></code>, and <code class="docutils literal notranslate"><span class="pre">yearly</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code>: dataset type (one of <code class="docutils literal notranslate"><span class="pre">iseg</span></code>, <code class="docutils literal notranslate"><span class="pre">simple</span></code>, <code class="docutils literal notranslate"><span class="pre">error</span></code>,
<code class="docutils literal notranslate"><span class="pre">duplicates</span></code>, <code class="docutils literal notranslate"><span class="pre">remote</span></code>, <code class="docutils literal notranslate"><span class="pre">outbound</span></code>, <code class="docutils literal notranslate"><span class="pre">discard</span></code>, <code class="docutils literal notranslate"><span class="pre">file</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unique</span></code>: comma-separated list of names of metadata that, taken together,
make it unique in the dataset</p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">arkimet</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Metadata types</a></li>
<li class="toctree-l1"><a class="reference internal" href="matcher.html">Match expressions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Datasets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="datasets/iseg.html"><code class="docutils literal notranslate"><span class="pre">iseg</span></code> dataset format</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets/simple.html"><code class="docutils literal notranslate"><span class="pre">simple</span></code> dataset format</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets/ondisk2.html"><code class="docutils literal notranslate"><span class="pre">ondisk2</span></code> dataset format</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets/archive.html">dataset archives</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets/error.html"><code class="docutils literal notranslate"><span class="pre">error</span></code> dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets/duplicates.html"><code class="docutils literal notranslate"><span class="pre">duplicates</span></code> dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets/remote.html"><code class="docutils literal notranslate"><span class="pre">remote</span></code> dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets/outbound.html"><code class="docutils literal notranslate"><span class="pre">outbound</span></code> dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="datasets/discard.html"><code class="docutils literal notranslate"><span class="pre">discard</span></code> dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dataset-configuration">Dataset configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="segments.html">Data segments</a></li>
<li class="toctree-l1"><a class="reference internal" href="http-api.html">arki-server HTTP API</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Arkimet runtime configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="match-alias.html">Arkimet match-alias.conf database</a></li>
<li class="toctree-l1"><a class="reference internal" href="python-howtos/index.html">Arkimet Python HOWTOs</a></li>
<li class="toctree-l1"><a class="reference internal" href="python-howtos/index.html#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/index.html">Arkimet Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/index.html#indices-and-tables">Indices and tables</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="matcher/run.html" title="previous chapter">Matching run information</a></li>
      <li>Next: <a href="datasets/iseg.html" title="next chapter"><code class="docutils literal notranslate"><span class="pre">iseg</span></code> dataset format</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Enrico Zini.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.4.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/datasets.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>