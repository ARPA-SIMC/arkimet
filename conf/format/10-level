-- Format a level: return a string, or nil to fall back to the default
-- formatter
function fmt_level(v)
	if v.style() == "GRIB1" then
		type, l1, l2 = v.grib1()
		levels = read_grib_table(1, "3")
		if levels[type] then
			if l1 == nil then
				l1 = "-"
			end
			if l2 == nil then
				l2 = "-"
			end
			return string.format("%s %s %s %s", 
					     levels:abbr(type),
					     levels:desc(type),
					     l1, l2)
		end
	end
	return nil
end
