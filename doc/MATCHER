Matcher:
 - serie di sottoespressioni <dato>:<espressione> or <espressione>...
   separate da andata a capo o punto e virgola

Tante sottoespressioni si combinano assieme in AND:

  origin:GRIB1,200 or GRIB1,98
  reftime:>=2007,<=2008

oppure:

  origin:GRIB1,200 or GRIB1,98 ; reftime:>=2007,<=2008 or 2003


Sottoespressioni
================


Area
----

 * area:stile:expr1[,expr2...]

 Le sottoespressioni separate dalla virgola sono in AND.

 Stile è per ora solo GRIB.

 Le sottoespressioni sono della forma key=val.  Fanno match quando il valore
 della chiave 'key' vale esattamente 'val'.  Non esiste una lista completa
 delle 'key' disponibili: qualsiasi cosa venga settato in fase di estrazione
 dei metadati può essere usato in fase di match.

area:GRIB:type=1,latmin=4852500
area:GRIB:type=2
area:GRIB:type=0,latmin=4852500
area:GRIB:type=2

 * area:bbox verb value

 Matches area bounding box against a sample value.
 The sample value is represented by a WKT geometry.

 Available verbs:

  equals: the bounding box to match must be the same as the sample value
  covers: the bounding box to match must contain the sample value
  coveredby: the bounding box to match must be contained inside the sample value
  intersects: the bounding box to match must intersect the sample value

area:bbox equals POINT(11 44)
area:bbox equals POLYGON((10 43, 10 45, 12 45, 12 43, 10 43))
area:bbox covers POINT(11 44)
area:bbox covers LINESTRING(10 43, 10 45, 13 45, 13 43, 10 43)
area:bbox covers POLYGON((10 43, 10 45, 13 45, 13 43, 10 43))
area:bbox coveredby POINT(11 44)
area:bbox coveredby LINESTRING(10 43, 10 45, 13 45, 13 43, 10 43)
area:bbox coveredby POLYGON((10 43, 10 45, 13 45, 13 43, 10 43))
area:bbox intersects POINT(11 44)
area:bbox intersects LINESTRING(10 43, 10 45, 13 45, 13 43, 10 43)
area:bbox intersects POLYGON((10 43, 10 45, 13 45, 13 43, 10 43))

 See: http://www.cs.montana.edu/courses/535/resources/Understanding%20spatial%20relations.htm


Ensemble
--------

 * ensemble:stile:expr1[,expr2...]

 Le sottoespressioni separate dalla virgola sono in AND.

 Stile è per ora solo GRIB.

 Le sottoespressioni sono della forma key=val.  Fanno match quando il valore
 della chiave 'key' vale esattamente 'val'.  Non esiste una lista completa
 delle 'key' disponibili: qualsiasi cosa venga settato in fase di estrazione
 dei metadati può essere usato in fase di match.

ensemble:GRIB:value=1
ensemble:GRIB:value=1,hour=12


Alias
-----

Ogni sottoespressione può essere sostituita da un alias definito in
/etc/arkimet/match-alias.conf o in un file locale.

Esempio di match-alias.conf:

  # xgribarch alias configuration
  #
  # Every section lists aliases for a given match type.
  #
  # An alias is defined as name = expression.  The expression can contain many
  # match expressions separated by " or ".
  #
  
  [origin]
  arpa = GRIB,200
  
  [product]
  #test = GRIB,42
  t = GRIB1,123 or GRIB2,1,3,2,5,2 or BUFR,1,3,2
  U = GRIB1,321
  V = GRIB1,231
  
  [level]
  G = GRIB,1,0,0
  ground = GRIB,1,0,0 or GRIB2,1,0,0
  
  [timerange]
  instant = GRIB,0,0,0
  f = GRIB,1
  fc38 = GRIB,1,38
  fc39 = GRIB,1,39
  
  [reftime]
  #test = >=2007,<=2008 or ==2005-05-05
  lamiv7operativo:>=2006-01-07,<=2006-04-12 or 2006-08-23

Esempio di usi degli alias:

origin:arpa
product:t or U
level:G
timerange:instant
reftime:lamiv7operativo
