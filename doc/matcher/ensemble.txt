--- Matching ensemble information

local sample = arki.metadata.new()

--[[ Matching GRIB ensembles

Syntax: ensemble:GRIB:key1=val1,key2=val2,...

Matches any GRIB ensemble that has at least all the given keys, with the given
values.

There is no exaustive list of possible keys, as they can be anything that
gets set by the GRIB scanning configuration.

]]

sample:set(arki_ensemble.grib{md=1, nn=2})

ensure_matches(sample, "ensemble:GRIB:md=1")
ensure_matches(sample, "ensemble:GRIB:md=1,nn=2")
ensure_not_matches(sample, "ensemble:GRIB:md=2,nn=2")
nsure_not_matches(sample, "ensemble:GRIB:answer=42")
