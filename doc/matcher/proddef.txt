--- Matching proddef information

local sample = arki.metadata.new()

--[[ Matching GRIB proddefs

Syntax: proddef:GRIB:key1=val1,key2=val2,...

Matches any GRIB proddef that has at least all the given keys, with the given
values.

There is no exaustive list of possible keys, as they can be anything that
gets set by the GRIB scanning configuration.

]]

sample:set(arki_proddef.grib{md=1, nn=2})

ensure_matches(sample, "proddef:GRIB:md=1")
ensure_matches(sample, "proddef:GRIB:md=1,nn=2")
ensure_not_matches(sample, "proddef:GRIB:md=2,nn=2")
ensure_not_matches(sample, "proddef:GRIB:answer=42")
