
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Metadata types &#8212; arkimet 1.16 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Match expressions" href="matcher.html" />
    <link rel="prev" title="arkimet documentation" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="metadata-types">
<h1>Metadata types<a class="headerlink" href="#metadata-types" title="Permalink to this headline">¶</a></h1>
<section id="origin">
<h2>Origin<a class="headerlink" href="#origin" title="Permalink to this headline">¶</a></h2>
<p>Defines the centre or process that originated the data.</p>
<section id="grib1">
<h3>GRIB1<a class="headerlink" href="#grib1" title="Permalink to this headline">¶</a></h3>
<p>Origin represented with as in GRIB version 1:</p>
<ul class="simple">
<li><p>Centre</p></li>
<li><p>Subcentre</p></li>
<li><p>Process</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO: add references to manual of codes</p>
</div>
</section>
<section id="grib2">
<h3>GRIB2<a class="headerlink" href="#grib2" title="Permalink to this headline">¶</a></h3>
<p>Origin represented with as in GRIB version 2:</p>
<ul class="simple">
<li><p>Centre</p></li>
<li><p>Subcentre</p></li>
<li><p>Process type</p></li>
<li><p>Background process identifier</p></li>
<li><p>Process identifier</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO: add references to manual of codes</p>
</div>
</section>
<section id="bufr">
<h3>BUFR<a class="headerlink" href="#bufr" title="Permalink to this headline">¶</a></h3>
<p>Origin represented with as in BUFR headers:</p>
<ul class="simple">
<li><p>Centre</p></li>
<li><p>Subcentre</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO: add references to manual of codes</p>
</div>
</section>
<section id="odimh5">
<h3>ODIMH5<a class="headerlink" href="#odimh5" title="Permalink to this headline">¶</a></h3>
<p>Origin represented with as in ODIM:</p>
<ul class="simple">
<li><p>WMO</p></li>
<li><p>RAD</p></li>
<li><p>PLC</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO: find meanings of ODIMh5 values</p>
</div>
</section>
</section>
<section id="product">
<h2>Product<a class="headerlink" href="#product" title="Permalink to this headline">¶</a></h2>
<p>Defines what kind of variable is measured or forecast or otherwise represented
in the data.</p>
<section id="id1">
<h3>GRIB1<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Product defined the same as product definition in GRIB version 1:</p>
<ul class="simple">
<li><p>Origin</p></li>
<li><p>Table number</p></li>
<li><p>Product</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO: add references to manual of codes</p>
</div>
</section>
<section id="id2">
<h3>GRIB2<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Product defined the same as in GRIB version 2:</p>
<ul class="simple">
<li><p>Centre</p></li>
<li><p>Discipline</p></li>
<li><p>Category</p></li>
<li><p>Number</p></li>
<li><p>Table version</p></li>
<li><p>Local table version</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO: add references to manual of codes</p>
</div>
</section>
<section id="id3">
<h3>BUFR<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Product defined the same as in BUFR:</p>
<ul class="simple">
<li><p>Type</p></li>
<li><p>Subtype</p></li>
<li><p>Local subtype</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO: add references to manual of codes</p>
</div>
<p>Optionally one can add a number of arbitrary key-value pairs to represent
information extracted from the BUFR contents that is significant for archival
purposes.</p>
</section>
<section id="id4">
<h3>ODIMH5<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Product defined as in ODIM:</p>
<ul class="simple">
<li><p>Obj</p></li>
<li><p>Prod</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO: find meanings of ODIMh5 values</p>
</div>
</section>
<section id="vm2">
<h3>VM2<a class="headerlink" href="#vm2" title="Permalink to this headline">¶</a></h3>
<p>Product defined as a VM2 variable ID</p>
</section>
</section>
<section id="level">
<h2>Level<a class="headerlink" href="#level" title="Permalink to this headline">¶</a></h2>
<p>Defines the vertical level or layer of the data.</p>
<section id="id5">
<h3>GRIB1<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Level represented with as in GRIB version 1:</p>
<ul class="simple">
<li><p>Level type</p></li>
<li><p>l1 (when applicable, depending on type)</p></li>
<li><p>l2 (for layer types)</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO: add references to manual of codes</p>
</div>
</section>
<section id="grib2s">
<h3>GRIB2S<a class="headerlink" href="#grib2s" title="Permalink to this headline">¶</a></h3>
<p>Level represented with as in GRIB version 2, surface levels:</p>
<ul class="simple">
<li><p>Level type</p></li>
<li><p>Scale</p></li>
<li><p>Value</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO: add references to manual of codes</p>
</div>
</section>
<section id="grib2d">
<h3>GRIB2D<a class="headerlink" href="#grib2d" title="Permalink to this headline">¶</a></h3>
<p>Level represented with as in GRIB version 2, layer levels:</p>
<ul class="simple">
<li><p>Type of first level</p></li>
<li><p>Scale of first level</p></li>
<li><p>Value of first level</p></li>
<li><p>Type of second level</p></li>
<li><p>Scale of second level</p></li>
<li><p>Value of second level</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO: add references to manual of codes</p>
</div>
</section>
<section id="id6">
<h3>ODIMH5<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>Level represented with as in ODIM, either as a single floating point value, or
as two floating point minimum, maximum values.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO: find meanings of ODIM values</p>
</div>
</section>
</section>
<section id="timerange">
<h2>Timerange<a class="headerlink" href="#timerange" title="Permalink to this headline">¶</a></h2>
<p>Defines the forecast step or statistical processing information for the data.</p>
<section id="id7">
<h3>GRIB1<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>Time range defined as in GRIB version 1:</p>
<ul class="simple">
<li><p>Time range type</p></li>
<li><p>Time range unit</p></li>
<li><p>P1</p></li>
<li><p>P2</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO: add references to manual of codes</p>
</div>
</section>
<section id="id8">
<h3>GRIB2<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>Time range defined as in GRIB version 2:</p>
<ul class="simple">
<li><p>Time range type</p></li>
<li><p>Time range unit</p></li>
<li><p>P1</p></li>
<li><p>P2</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO: add references to manual of codes</p>
</div>
</section>
<section id="id9">
<h3>BUFR<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>Time range representing forecast steps for BUFR generated by forecast
processing:</p>
<ul class="simple">
<li><p>Value</p></li>
<li><p>Unit of time (same as in GRIB version 1 and 2)</p></li>
</ul>
</section>
<section id="id10">
<h3>GRIB2<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>Semantic time range definition that can be used to represent most (but not all)
time ranges in a unified way.</p>
<p>Time range values that cannot be converted to Timedef are corner cases where
the data model of Timedef cannot be applied.</p>
<p>Units of time are defined as in GRIB2 time range time units.</p>
<p>For forecasts without statistical processing:</p>
<ul class="simple">
<li><p>step length (can be 0 for analysys)</p></li>
<li><p>step unit</p></li>
</ul>
<p>For forecasts with statistical processing:</p>
<ul class="simple">
<li><p>step length (can be 0 for analysys)</p></li>
<li><p>step unit</p></li>
<li><p>type of statistical processing (same as GRIB time range types)</p></li>
<li><p>length of period of statistical processing</p></li>
<li><p>unit for length of period of statistical processing</p></li>
</ul>
<p>Arkimet supports converting most time range types to Timedef, and it is
possible to use Timedef matching to match metadata in other formats.</p>
</section>
</section>
<section id="reftime">
<h2>Reftime<a class="headerlink" href="#reftime" title="Permalink to this headline">¶</a></h2>
<p>Date and time for the reference time of one data element.</p>
<p>This is the metadata used for organizing data along the time axis.</p>
<p>What is the reference time is defined by the scanner code.</p>
<p>The maximum time resolution is one second.</p>
<p>Times are assumed to be in UTC, and time zones are not represented.</p>
</section>
<section id="note">
<h2>Note<a class="headerlink" href="#note" title="Permalink to this headline">¶</a></h2>
<p>A timestamped annotation about how arkimet processed this element.</p>
<p>This can be used to track and audit the life of data in the archive.</p>
<p>It can be used for consultation only, and cannot be used in searches.</p>
</section>
<section id="source">
<h2>Source<a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>Reference to where the data is stored.</p>
<p>This is what allows to fetch the actual data given its metadata.</p>
<section id="blob">
<h3>Blob<a class="headerlink" href="#blob" title="Permalink to this headline">¶</a></h3>
<p>The data is available in the local file system:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">filename</span></code> points to the file that has the data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">offset</span></code> is the position in the file where the data is stored</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span></code> is the size in bytes of the data</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">basedir</span></code> is a hint that can be used to resolve relative <code class="docutils literal notranslate"><span class="pre">filename</span></code> values.
It is not stored in the metadata, and when reading it defaults to the path
where the metadata is found, so that data can be referenced relative to the
metadata.</p>
<p>It is possible that <code class="docutils literal notranslate"><span class="pre">filename</span></code> points to a directory segment or a <code class="docutils literal notranslate"><span class="pre">.zip</span></code>
file: in that case, the value of the offset is used to reference the data in
the directory or zipfile based on the meaning given by the directory segment or
zip file segment implementation.</p>
</section>
<section id="inline">
<h3>Inline<a class="headerlink" href="#inline" title="Permalink to this headline">¶</a></h3>
<p>The data follows the metadata in the same data stream.</p>
<p>This stores the size in bytes of the data to be read after the metadata in the
stream.</p>
</section>
<section id="url">
<h3>URL<a class="headerlink" href="#url" title="Permalink to this headline">¶</a></h3>
<p>The data is stored at a remote location.</p>
<p>This is a string containing a URL that points at the data remotely.</p>
<p>At the moment, remotely accessing a single data element is not supported, and
this field is usually only filled with the URL of the remote dataset that
contains the data.</p>
<p>Fetching remote data is usually done transparently and more efficiently at
query time, with data returned inline after the metadata.</p>
</section>
</section>
<section id="area">
<h2>Area<a class="headerlink" href="#area" title="Permalink to this headline">¶</a></h2>
<p>Geographical area relative to a data element.</p>
<p>When possible, Area values should be convertible to coordinate polygons,
allowing matching using geospatial primitives (contains, intersects, …).</p>
<section id="grib">
<h3>GRIB<a class="headerlink" href="#grib" title="Permalink to this headline">¶</a></h3>
<p>Collection of key-value pairs, interpreted in the context of GRIB grid
definitions.</p>
</section>
<section id="id11">
<h3>ODIMH5<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>Collection of key-value pairs, interpreted in the context of ODIM area
information.</p>
</section>
<section id="id12">
<h3>VM2<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>Area information as an integer VM2 station identifier.</p>
</section>
</section>
<section id="proddef">
<h2>Proddef<a class="headerlink" href="#proddef" title="Permalink to this headline">¶</a></h2>
<p>Product definition, encoding extra information to represent variations on the
defined product.</p>
<p>This is used, for example, to encode the ensemble parameters and distinguish
products that have been computed using different ensemble conditions.</p>
<section id="id13">
<h3>GRIB<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<p>Collection of key-value pairs, interpreted in the context of GRIB conventions.</p>
</section>
</section>
<section id="run">
<h2>Run<a class="headerlink" href="#run" title="Permalink to this headline">¶</a></h2>
<p>Time of day when the model was run that generated this data.</p>
<p>This is generally filled when needed from the data reference time.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO: [Enrico] I have a vague memory that this was introduced to distinguish
metadata that would otherwise be the same, and only change according to the
model run time.</p>
<p>I would like to document it with an example of when this is needed, but I
cannot find any at the moment. If no example can be found, it may be time to
check if this metadata item is still at all needed.</p>
</div>
<section id="minute">
<h3>Minute<a class="headerlink" href="#minute" title="Permalink to this headline">¶</a></h3>
<p>Model run time of day, in minutes from midnight</p>
</section>
</section>
<section id="task">
<h2>Task<a class="headerlink" href="#task" title="Permalink to this headline">¶</a></h2>
<p>Representation of ODIM Task as a string value.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO: find meanings of ODIMh5 values</p>
</div>
</section>
<section id="quantity">
<h2>Quantity<a class="headerlink" href="#quantity" title="Permalink to this headline">¶</a></h2>
<p>Representation of ODIM quantity as a list of one or more string values.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TODO: find meanings of ODIMh5 values</p>
</div>
</section>
<section id="value">
<h2>Value<a class="headerlink" href="#value" title="Permalink to this headline">¶</a></h2>
<p>The value of very short data encoded as part of the metadata</p>
<p>This is currently used to encode the non-metadata part of VM2 data so that
it can be extracted from metadata or dataset indices and completed using the
rest of metadata values, avoiding disk lookips</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">arkimet</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Metadata types</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#origin">Origin</a></li>
<li class="toctree-l2"><a class="reference internal" href="#product">Product</a></li>
<li class="toctree-l2"><a class="reference internal" href="#level">Level</a></li>
<li class="toctree-l2"><a class="reference internal" href="#timerange">Timerange</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reftime">Reftime</a></li>
<li class="toctree-l2"><a class="reference internal" href="#note">Note</a></li>
<li class="toctree-l2"><a class="reference internal" href="#source">Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="#area">Area</a></li>
<li class="toctree-l2"><a class="reference internal" href="#proddef">Proddef</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run">Run</a></li>
<li class="toctree-l2"><a class="reference internal" href="#task">Task</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quantity">Quantity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#value">Value</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="matcher.html">Match expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="segments.html">Data segments</a></li>
<li class="toctree-l1"><a class="reference internal" href="http-api.html">arki-server HTTP API</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Arkimet runtime configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="match-alias.html">Arkimet match-alias.conf database</a></li>
<li class="toctree-l1"><a class="reference internal" href="python-howtos/index.html">Arkimet Python HOWTOs</a></li>
<li class="toctree-l1"><a class="reference internal" href="python-howtos/index.html#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/index.html">Arkimet Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="python/index.html#indices-and-tables">Indices and tables</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">arkimet documentation</a></li>
      <li>Next: <a href="matcher.html" title="next chapter">Match expressions</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Enrico Zini.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.4.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/metadata.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>