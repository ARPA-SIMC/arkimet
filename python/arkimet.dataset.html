
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>arkimet.dataset package &#8212; arkimet 1.16 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="arkimet.scan package" href="arkimet.scan.html" />
    <link rel="prev" title="arkimet.cfg package" href="arkimet.cfg.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="arkimet-dataset-package">
<h1>arkimet.dataset package<a class="headerlink" href="#arkimet-dataset-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-arkimet.dataset.http">
<span id="arkimet-dataset-http-module"></span><h2>arkimet.dataset.http module<a class="headerlink" href="#module-arkimet.dataset.http" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="arkimet.dataset.http.load_cfg_sections">
<code class="descclassname">arkimet.dataset.http.</code><code class="descname">load_cfg_sections</code><span class="sig-paren">(</span><em>url: str</em><span class="sig-paren">)</span> &#x2192; arki.cfg.Sections<a class="headerlink" href="#arkimet.dataset.http.load_cfg_sections" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the configuration of the datasets at the given URL</p>
</dd></dl>

<dl class="function">
<dt id="arkimet.dataset.http.get_alias_database">
<code class="descclassname">arkimet.dataset.http.</code><code class="descname">get_alias_database</code><span class="sig-paren">(</span><em>url: str</em><span class="sig-paren">)</span> &#x2192; arki.cfg.Sections<a class="headerlink" href="#arkimet.dataset.http.get_alias_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the alias database for the server at the given URL</p>
</dd></dl>

<dl class="function">
<dt id="arkimet.dataset.http.expand_remote_query">
<code class="descclassname">arkimet.dataset.http.</code><code class="descname">expand_remote_query</code><span class="sig-paren">(</span><em>remotes: arkimet.cfg.Sections</em>, <em>query: str</em><span class="sig-paren">)</span> &#x2192; str<a class="headerlink" href="#arkimet.dataset.http.expand_remote_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand aliases on the query for all remote datasets given.</p>
<p>An exception is raised if some remotes have conflicting aliases definition.</p>
</dd></dl>

</div>
<div class="section" id="module-arkimet.dataset">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-arkimet.dataset" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="arkimet.dataset.Reader">
<em class="property">class </em><code class="descclassname">arkimet.dataset.</code><code class="descname">Reader</code><a class="headerlink" href="#arkimet.dataset.Reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Read functions for an arkimet dataset.</p>
<p>TODO: document</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TODO</span><span class="p">:</span> <span class="n">add</span> <span class="n">examples</span>
</pre></div>
</div>
<dl class="method">
<dt id="arkimet.dataset.Reader.query_bytes">
<code class="descname">query_bytes</code><span class="sig-paren">(</span><em>matcher: Union[arki.Matcher</em>, <em>str]=None</em>, <em>with_data: bool=False</em>, <em>sort: str=None</em>, <em>data_start_hook: Callable[[]</em>, <em>None]=None</em>, <em>postprocess: str=None</em>, <em>metadata_report: str=None</em>, <em>summary_report: str=None</em>, <em>file: Union[int</em>, <em>BinaryIO]=None</em><span class="sig-paren">)</span> &#x2192; Union[None, bytes]<a class="headerlink" href="#arkimet.dataset.Reader.query_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>query a dataset, piping results to a file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>matcher</strong> – the matcher string to filter data to return.</li>
<li><strong>with_data</strong> – if True, also load data together with the metadata.</li>
<li><strong>sort</strong> – string with the desired sort order of results.</li>
<li><strong>data_start_hook</strong> – function called before sending the data to the file</li>
<li><strong>postprocess</strong> – name of a postprocessor to use to filter data server-side</li>
<li><strong>metadata_report</strong> – name of the server-side report function to run on results metadata</li>
<li><strong>summary_report</strong> – name of the server-side report function to run on results summary</li>
<li><strong>file</strong> – the output file. The file can be a file-like object, or an integer file
or socket handle. If missing, data is returned in a bytes object</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="arkimet.dataset.Reader.query_data">
<code class="descname">query_data</code><span class="sig-paren">(</span><em>matcher: Union[arki.Matcher, str]=None, with_data: bool=False, sort: str=None, on_metadata: Callable[[metadata], Optional[bool]]=None</em><span class="sig-paren">)</span> &#x2192; Union[None, List[arki.Metadata]]<a class="headerlink" href="#arkimet.dataset.Reader.query_data" title="Permalink to this definition">¶</a></dt>
<dd><p>query a dataset, processing the resulting metadata one by one</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>matcher</strong> – the matcher string to filter data to return.</li>
<li><strong>with_data</strong> – if True, also load data together with the metadata.</li>
<li><strong>sort</strong> – string with the desired sort order of results.</li>
<li><strong>on_metadata</strong> – a function called on each metadata, with the Metadata
object as its only argument. Return None or True to
continue processing results, False to stop.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="arkimet.dataset.Reader.query_summary">
<code class="descname">query_summary</code><span class="sig-paren">(</span><em>matcher: Union[arki.Matcher</em>, <em>str]=None</em>, <em>summary: arkimet.Summary=None</em><span class="sig-paren">)</span> &#x2192; arkimet.Summary<a class="headerlink" href="#arkimet.dataset.Reader.query_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>query a dataset, returning an arkimet.Summary with the results</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>matcher</strong> – the matcher string to filter data to return.</li>
<li><strong>summary</strong> – not None, add results to this arkimet.Summary, and return
it, instead of creating a new one.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="arkimet.dataset.Writer">
<em class="property">class </em><code class="descclassname">arkimet.dataset.</code><code class="descname">Writer</code><a class="headerlink" href="#arkimet.dataset.Writer" title="Permalink to this definition">¶</a></dt>
<dd><p>Write functions for an arkimet dataset.</p>
<p>TODO: document</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TODO</span><span class="p">:</span> <span class="n">add</span> <span class="n">examples</span>
</pre></div>
</div>
<dl class="method">
<dt id="arkimet.dataset.Writer.acquire">
<code class="descname">acquire</code><span class="sig-paren">(</span><em>md: arki.Metadata</em>, <em>replace: str=None</em>, <em>drop_cached_data_on_commit: bool=False</em><span class="sig-paren">)</span><a class="headerlink" href="#arkimet.dataset.Writer.acquire" title="Permalink to this definition">¶</a></dt>
<dd><p>Acquire the given metadata item (and related data) in this dataset</p>
<p>After acquiring the data successfully, the data can be retrieved from
the dataset.  Also, information such as the dataset name and the id of
the data in the dataset are added to the Metadata object.</p>
<p>If the import failed, a subclass of arki.dataset.ImportError is raised.</p>
</dd></dl>

<dl class="method">
<dt id="arkimet.dataset.Writer.flush">
<code class="descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arkimet.dataset.Writer.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush pending changes to disk</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="arkimet.dataset.Checker">
<em class="property">class </em><code class="descclassname">arkimet.dataset.</code><code class="descname">Checker</code><a class="headerlink" href="#arkimet.dataset.Checker" title="Permalink to this definition">¶</a></dt>
<dd><p>Check functions for an arkimet dataset.</p>
<p>TODO: document</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TODO</span><span class="p">:</span> <span class="n">add</span> <span class="n">examples</span>
</pre></div>
</div>
<dl class="method">
<dt id="arkimet.dataset.Checker.check">
<code class="descname">check</code><span class="sig-paren">(</span><em>reporter: Any=None</em>, <em>segment_filter: Union[arkimet.Matcher</em>, <em>str]=</em>, <em>offline: bool=True</em>, <em>online: bool=True</em>, <em>readonly: bool=True</em>, <em>accurate: bool=False</em><span class="sig-paren">)</span><a class="headerlink" href="#arkimet.dataset.Checker.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform checking/fixing on the dataset</p>
</dd></dl>

<dl class="method">
<dt id="arkimet.dataset.Checker.repack">
<code class="descname">repack</code><span class="sig-paren">(</span><em>reporter: Any=None</em>, <em>segment_filter: Union[arkimet.Matcher</em>, <em>str]=</em>, <em>offline: bool=True</em>, <em>online: bool=True</em>, <em>readonly: bool=True</em>, <em>accurate: bool=False</em><span class="sig-paren">)</span><a class="headerlink" href="#arkimet.dataset.Checker.repack" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform repacking on the dataset</p>
</dd></dl>

<dl class="method">
<dt id="arkimet.dataset.Checker.segment_state">
<code class="descname">segment_state</code><span class="sig-paren">(</span><em>reporter: Any=None</em>, <em>segment_filter: Union[arkimet.Matcher</em>, <em>str]=</em>, <em>offline: bool=True</em>, <em>online: bool=True</em>, <em>readonly: bool=True</em>, <em>accurate: bool=False</em>, <em>time_override: int=None</em><span class="sig-paren">)</span> &#x2192; Dict[str, str]<a class="headerlink" href="#arkimet.dataset.Checker.segment_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the state of each segment in the archive</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="arkimet.dataset.SessionTimeOverride">
<em class="property">class </em><code class="descclassname">arkimet.dataset.</code><code class="descname">SessionTimeOverride</code><a class="headerlink" href="#arkimet.dataset.SessionTimeOverride" title="Permalink to this definition">¶</a></dt>
<dd><p>Write functions for an arkimet dataset.</p>
<p>TODO: document</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TODO</span><span class="p">:</span> <span class="n">add</span> <span class="n">examples</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="arkimet.dataset.read_config">
<code class="descclassname">arkimet.dataset.</code><code class="descname">read_config</code><span class="sig-paren">(</span><em>pathname: str</em><span class="sig-paren">)</span> &#x2192; arki.cfg.Section<a class="headerlink" href="#arkimet.dataset.read_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the configuration of a dataset at the given path or URL</p>
</dd></dl>

<dl class="function">
<dt id="arkimet.dataset.read_configs">
<code class="descclassname">arkimet.dataset.</code><code class="descname">read_configs</code><span class="sig-paren">(</span><em>pathname: str</em><span class="sig-paren">)</span> &#x2192; arki.cfg.Sections<a class="headerlink" href="#arkimet.dataset.read_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the merged dataset configuration at the given path or URL</p>
</dd></dl>

<dl class="exception">
<dt id="arkimet.dataset.ImportError">
<em class="property">exception </em><code class="descclassname">arkimet.dataset.</code><code class="descname">ImportError</code><a class="headerlink" href="#arkimet.dataset.ImportError" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for dataset import errors</p>
</dd></dl>

<dl class="exception">
<dt id="arkimet.dataset.ImportDuplicateError">
<em class="property">exception </em><code class="descclassname">arkimet.dataset.</code><code class="descname">ImportDuplicateError</code><a class="headerlink" href="#arkimet.dataset.ImportDuplicateError" title="Permalink to this definition">¶</a></dt>
<dd><p>The item to import already exists on the dataset</p>
</dd></dl>

<dl class="exception">
<dt id="arkimet.dataset.ImportFailedError">
<em class="property">exception </em><code class="descclassname">arkimet.dataset.</code><code class="descname">ImportFailedError</code><a class="headerlink" href="#arkimet.dataset.ImportFailedError" title="Permalink to this definition">¶</a></dt>
<dd><p>The import process failed on this metadata</p>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">arkimet</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../matcher.html">Match expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../segments.html">Data segments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http-api.html">arki-server HTTP API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Arkimet Python API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="arkimet.html">arkimet package</a></li>
<li class="toctree-l2"><a class="reference internal" href="arkimet.cfg.html">arkimet.cfg package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">arkimet.dataset package</a></li>
<li class="toctree-l2"><a class="reference internal" href="arkimet.scan.html">arkimet.scan package</a></li>
<li class="toctree-l2"><a class="reference internal" href="arkimet.formatter.html">arkimet.formatter package</a></li>
<li class="toctree-l2"><a class="reference internal" href="arkimet.bbox.html">arkimet.bbox package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Arkimet Python API</a><ul>
  <li><a href="arkimet.html">arkimet package</a><ul>
      <li>Previous: <a href="arkimet.cfg.html" title="previous chapter">arkimet.cfg package</a></li>
      <li>Next: <a href="arkimet.scan.html" title="next chapter">arkimet.scan package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Enrico Zini.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/python/arkimet.dataset.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>