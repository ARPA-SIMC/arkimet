
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>arkimet.dataset package &#8212; arkimet 1.16 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="arkimet.scan package" href="arkimet.scan.html" />
    <link rel="prev" title="arkimet.cfg package" href="arkimet.cfg.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="arkimet-dataset-package">
<h1>arkimet.dataset package<a class="headerlink" href="#arkimet-dataset-package" title="Permalink to this headline">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-arkimet.dataset.http">
<span id="arkimet-dataset-http-module"></span><h2>arkimet.dataset.http module<a class="headerlink" href="#module-arkimet.dataset.http" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="arkimet.dataset.http.expand_remote_query">
<span class="sig-prename descclassname"><span class="pre">arkimet.dataset.http.</span></span><span class="sig-name descname"><span class="pre">expand_remote_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">remotes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="arkimet.cfg.html#arkimet.cfg.Sections" title="arkimet.cfg.Sections"><span class="pre">arkimet.cfg.Sections</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#arkimet.dataset.http.expand_remote_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand aliases on the query for all remote datasets given.</p>
<p>An exception is raised if some remotes have conflicting aliases definition.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="arkimet.dataset.http.get_alias_database">
<span class="sig-prename descclassname"><span class="pre">arkimet.dataset.http.</span></span><span class="sig-name descname"><span class="pre">get_alias_database</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">arki.cfg.Sections</span></span></span><a class="headerlink" href="#arkimet.dataset.http.get_alias_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the alias database for the server at the given URL</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="arkimet.dataset.http.load_cfg_sections">
<span class="sig-prename descclassname"><span class="pre">arkimet.dataset.http.</span></span><span class="sig-name descname"><span class="pre">load_cfg_sections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">arki.cfg.Sections</span></span></span><a class="headerlink" href="#arkimet.dataset.http.load_cfg_sections" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the configuration of the datasets at the given URL</p>
</dd></dl>

</section>
<section id="module-arkimet.dataset">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-arkimet.dataset" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="arkimet.dataset.Checker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">arkimet.dataset.</span></span><span class="sig-name descname"><span class="pre">Checker</span></span><a class="headerlink" href="#arkimet.dataset.Checker" title="Permalink to this definition">¶</a></dt>
<dd><p>Check functions for an arkimet dataset.</p>
<p>TODO: document</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TODO</span><span class="p">:</span> <span class="n">add</span> <span class="n">examples</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Checker.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reporter:</span> <span class="pre">Any=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_filter:</span> <span class="pre">Union[arkimet.Matcher</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]=</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offline:</span> <span class="pre">bool=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">online:</span> <span class="pre">bool=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readonly:</span> <span class="pre">bool=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accurate:</span> <span class="pre">bool=False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arkimet.dataset.Checker.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform checking/fixing on the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Checker.repack">
<span class="sig-name descname"><span class="pre">repack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reporter:</span> <span class="pre">Any=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_filter:</span> <span class="pre">Union[arkimet.Matcher</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]=</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offline:</span> <span class="pre">bool=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">online:</span> <span class="pre">bool=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readonly:</span> <span class="pre">bool=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accurate:</span> <span class="pre">bool=False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arkimet.dataset.Checker.repack" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform repacking on the dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Checker.segment_state">
<span class="sig-name descname"><span class="pre">segment_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reporter:</span> <span class="pre">Any=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_filter:</span> <span class="pre">Union[arkimet.Matcher</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">str]=</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offline:</span> <span class="pre">bool=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">online:</span> <span class="pre">bool=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readonly:</span> <span class="pre">bool=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accurate:</span> <span class="pre">bool=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_override:</span> <span class="pre">int=None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#arkimet.dataset.Checker.segment_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the state of each segment in the archive</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="arkimet.dataset.Dataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">arkimet.dataset.</span></span><span class="sig-name descname"><span class="pre">Dataset</span></span><a class="headerlink" href="#arkimet.dataset.Dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>A dataset in arkimet. It provides information about the dataset configuration,
and allows to create readers, writers, and checkers to work with the dataset.</p>
<p>You can avoid the intermediate step of accessing Dataset objects, by calling
directly <a class="reference internal" href="#arkimet.dataset.Session" title="arkimet.dataset.Session"><code class="xref py py-class docutils literal notranslate"><span class="pre">arkimet.dataset.Session</span></code></a> functions
<a class="reference internal" href="#arkimet.dataset.Session.dataset_reader" title="arkimet.dataset.Session.dataset_reader"><code class="xref py py-meth docutils literal notranslate"><span class="pre">arkimet.dataset.Session.dataset_reader()</span></code></a>,
<a class="reference internal" href="#arkimet.dataset.Session.dataset_writer" title="arkimet.dataset.Session.dataset_writer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">arkimet.dataset.Session.dataset_writer()</span></code></a>, and
<a class="reference internal" href="#arkimet.dataset.Session.dataset_checker" title="arkimet.dataset.Session.dataset_checker"><code class="xref py py-meth docutils literal notranslate"><span class="pre">arkimet.dataset.Session.dataset_checker()</span></code></a>.</p>
<p>If in some cases it can be useful to instantiate a Dataset and pass it around,
this class is available, matching the C++ API.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="s2">&quot;dsname&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">dataset</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">dataset</span><span class="o">.</span><span class="n">reader</span><span class="p">()</span> <span class="k">as</span> <span class="n">reader</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">reader</span><span class="o">.</span><span class="n">query_data</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Dataset.checker">
<span class="sig-name descname"><span class="pre">checker</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#arkimet.dataset.Checker" title="arkimet.dataset.Checker"><span class="pre">arkimet.dataset.Checker</span></a></span></span><a class="headerlink" href="#arkimet.dataset.Dataset.checker" title="Permalink to this definition">¶</a></dt>
<dd><p>return a checker for this dataset</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="arkimet.dataset.Dataset.config">
<span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#arkimet.dataset.Dataset.config" title="Permalink to this definition">¶</a></dt>
<dd><p>dataset configuration as an <a class="reference internal" href="arkimet.cfg.html#arkimet.cfg.Section" title="arkimet.cfg.Section"><code class="xref py py-class docutils literal notranslate"><span class="pre">arkimet.cfg.Section</span></code></a> object</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="arkimet.dataset.Dataset.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#arkimet.dataset.Dataset.name" title="Permalink to this definition">¶</a></dt>
<dd><p>dataset name</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Dataset.reader">
<span class="sig-name descname"><span class="pre">reader</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#arkimet.dataset.Reader" title="arkimet.dataset.Reader"><span class="pre">arkimet.dataset.Reader</span></a></span></span><a class="headerlink" href="#arkimet.dataset.Dataset.reader" title="Permalink to this definition">¶</a></dt>
<dd><p>return a reader for this dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Dataset.writer">
<span class="sig-name descname"><span class="pre">writer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#arkimet.dataset.Writer" title="arkimet.dataset.Writer"><span class="pre">arkimet.dataset.Writer</span></a></span></span><a class="headerlink" href="#arkimet.dataset.Dataset.writer" title="Permalink to this definition">¶</a></dt>
<dd><p>return a writer for this dataset</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="arkimet.dataset.ImportDuplicateError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">arkimet.dataset.</span></span><span class="sig-name descname"><span class="pre">ImportDuplicateError</span></span><a class="headerlink" href="#arkimet.dataset.ImportDuplicateError" title="Permalink to this definition">¶</a></dt>
<dd><p>The item to import already exists on the dataset</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="arkimet.dataset.ImportError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">arkimet.dataset.</span></span><span class="sig-name descname"><span class="pre">ImportError</span></span><a class="headerlink" href="#arkimet.dataset.ImportError" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for dataset import errors</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="arkimet.dataset.ImportFailedError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">arkimet.dataset.</span></span><span class="sig-name descname"><span class="pre">ImportFailedError</span></span><a class="headerlink" href="#arkimet.dataset.ImportFailedError" title="Permalink to this definition">¶</a></dt>
<dd><p>The import process failed on this metadata</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="arkimet.dataset.Reader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">arkimet.dataset.</span></span><span class="sig-name descname"><span class="pre">Reader</span></span><a class="headerlink" href="#arkimet.dataset.Reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Read functions for an arkimet dataset.</p>
<p>TODO: document</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TODO</span><span class="p">:</span> <span class="n">add</span> <span class="n">examples</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Reader.query_bytes">
<span class="sig-name descname"><span class="pre">query_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matcher</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">arki.Matcher</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_start_hook</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">postprocess</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata_report</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summary_report</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">BinaryIO</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#arkimet.dataset.Reader.query_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>query a dataset, piping results to a file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matcher</strong> – the matcher string to filter data to return.</p></li>
<li><p><strong>with_data</strong> – if True, also load data together with the metadata.</p></li>
<li><p><strong>sort</strong> – string with the desired sort order of results.</p></li>
<li><p><strong>data_start_hook</strong> – function called before sending the data to the file</p></li>
<li><p><strong>postprocess</strong> – name of a postprocessor to use to filter data server-side</p></li>
<li><p><strong>metadata_report</strong> – name of the server-side report function to run on results metadata</p></li>
<li><p><strong>summary_report</strong> – name of the server-side report function to run on results summary</p></li>
<li><p><strong>file</strong> – the output file. The file can be a file-like object, or an integer file
or socket handle. If missing, data is returned in a bytes object</p></li>
<li><p><strong>progress</strong> – an object with 3 methods: <code class="docutils literal notranslate"><span class="pre">start(expected_count:</span> <span class="pre">int=0,</span> <span class="pre">expected_bytes:</span> <span class="pre">int=0)</span></code>,
<code class="docutils literal notranslate"><span class="pre">update(count:</span> <span class="pre">int,</span> <span class="pre">bytes:</span> <span class="pre">int)</span></code>, and <code class="docutils literal notranslate"><span class="pre">done(total_count:</span> <span class="pre">int,</span> <span class="pre">total_bytes:</span> <span class="pre">int)</span></code>,
to call for progress updates.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Reader.query_data">
<span class="sig-name descname"><span class="pre">query_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matcher</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">arki.Matcher</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on_metadata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">metadata</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">arki.Metadata</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#arkimet.dataset.Reader.query_data" title="Permalink to this definition">¶</a></dt>
<dd><p>query a dataset, processing the resulting metadata one by one</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matcher</strong> – the matcher string to filter data to return.</p></li>
<li><p><strong>with_data</strong> – if True, also load data together with the metadata.</p></li>
<li><p><strong>sort</strong> – string with the desired sort order of results.</p></li>
<li><p><strong>on_metadata</strong> – a function called on each metadata, with the Metadata
object as its only argument. Return None or True to
continue processing results, False to stop.</p></li>
<li><p><strong>progress</strong> – an object with 3 methods: <code class="docutils literal notranslate"><span class="pre">start(expected_count:</span> <span class="pre">int=0,</span> <span class="pre">expected_bytes:</span> <span class="pre">int=0)</span></code>,
<code class="docutils literal notranslate"><span class="pre">update(count:</span> <span class="pre">int,</span> <span class="pre">bytes:</span> <span class="pre">int)</span></code>, and <code class="docutils literal notranslate"><span class="pre">done(total_count:</span> <span class="pre">int,</span> <span class="pre">total_bytes:</span> <span class="pre">int)</span></code>,
to call for progress updates.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Reader.query_summary">
<span class="sig-name descname"><span class="pre">query_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matcher</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">arki.Matcher</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="arkimet.html#arkimet.Summary" title="arkimet.Summary"><span class="pre">arkimet.Summary</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="arkimet.html#arkimet.Summary" title="arkimet.Summary"><span class="pre">arkimet.Summary</span></a></span></span><a class="headerlink" href="#arkimet.dataset.Reader.query_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>query a dataset, returning an arkimet.Summary with the results</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matcher</strong> – the matcher string to filter data to return.</p></li>
<li><p><strong>summary</strong> – not None, add results to this arkimet.Summary, and return
it, instead of creating a new one.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="arkimet.dataset.Session">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">arkimet.dataset.</span></span><span class="sig-name descname"><span class="pre">Session</span></span><a class="headerlink" href="#arkimet.dataset.Session" title="Permalink to this definition">¶</a></dt>
<dd><p>Shared configuration, aliases, and working data used to work with arkimet datasets.</p>
<p>A Session stores alias information, and preloads <a class="reference internal" href="#arkimet.dataset.Dataset" title="arkimet.dataset.Dataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">arkimet.dataset.Dataset</span></code></a> objects.</p>
<p>Adding a remote dataset to the Session dataset pool will download the alias
database of its server and merge it into the current one, raising an error in
case of inconsistencies.</p>
<p>Datasets in the pool can be referred by name. It is possible to create datasets
given their configuration, without adding them to the pool.</p>
<p>Session is also used to instantiate matchers using its alias database.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Long version</span>
<span class="k">with</span> <span class="n">arkimet</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">config</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add_dataset</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
    <span class="n">matcher</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">matcher</span><span class="p">(</span><span class="s2">&quot;level:ground&quot;</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">dataset</span><span class="p">(</span><span class="s2">&quot;dsname&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">dataset</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">dataset</span><span class="o">.</span><span class="n">reader</span><span class="p">()</span> <span class="k">as</span> <span class="n">reader</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">query_data</span><span class="p">(</span><span class="n">matcher</span><span class="p">)</span>

<span class="c1"># Short version</span>
<span class="k">with</span> <span class="n">arkimet</span><span class="o">.</span><span class="n">dataset</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">config</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add_dataset</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">session</span><span class="o">.</span><span class="n">dataset_reader</span><span class="p">(</span><span class="s2">&quot;dsname&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reader</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">dataset</span><span class="o">.</span><span class="n">reader</span><span class="p">()</span> <span class="k">as</span> <span class="n">reader</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">query_data</span><span class="p">(</span><span class="s2">&quot;level:ground&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Session.add_dataset">
<span class="sig-name descname"><span class="pre">add_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="arkimet.cfg.html#arkimet.cfg.Section" title="arkimet.cfg.Section"><span class="pre">arkimet.cfg.Section</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arkimet.dataset.Session.add_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>add a dataset to the Session pool</p>
<p>If a dataset with the same name already exists in the pool, it raises an
exception.</p>
<p>If the dataset is remote, the aliases used by the remote server will be
added to the session alias database. If different servers define some
aliases differently, it raises an exception.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Session.dataset">
<span class="sig-name descname"><span class="pre">dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="arkimet.cfg.html#arkimet.cfg.Section" title="arkimet.cfg.Section"><span class="pre">arkimet.cfg.Section</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#arkimet.dataset.Dataset" title="arkimet.dataset.Dataset"><span class="pre">arkimet.dataset.Dataset</span></a></span></span><a class="headerlink" href="#arkimet.dataset.Session.dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>return a Dataset give its configuration</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Session.dataset_checker">
<span class="sig-name descname"><span class="pre">dataset_checker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="arkimet.cfg.html#arkimet.cfg.Section" title="arkimet.cfg.Section"><span class="pre">arkimet.cfg.Section</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#arkimet.dataset.Checker" title="arkimet.dataset.Checker"><span class="pre">arkimet.dataset.Checker</span></a></span></span><a class="headerlink" href="#arkimet.dataset.Session.dataset_checker" title="Permalink to this definition">¶</a></dt>
<dd><p>return a dataset checker give its configuration</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Session.dataset_pool_size">
<span class="sig-name descname"><span class="pre">dataset_pool_size</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#arkimet.dataset.Session.dataset_pool_size" title="Permalink to this definition">¶</a></dt>
<dd><p>return how many datasets are in the dataset pool</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Session.dataset_reader">
<span class="sig-name descname"><span class="pre">dataset_reader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="arkimet.cfg.html#arkimet.cfg.Section" title="arkimet.cfg.Section"><span class="pre">arkimet.cfg.Section</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#arkimet.dataset.Reader" title="arkimet.dataset.Reader"><span class="pre">arkimet.dataset.Reader</span></a></span></span><a class="headerlink" href="#arkimet.dataset.Session.dataset_reader" title="Permalink to this definition">¶</a></dt>
<dd><p>return a dataset reader give its configuration</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Session.dataset_writer">
<span class="sig-name descname"><span class="pre">dataset_writer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="arkimet.cfg.html#arkimet.cfg.Section" title="arkimet.cfg.Section"><span class="pre">arkimet.cfg.Section</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#arkimet.dataset.Writer" title="arkimet.dataset.Writer"><span class="pre">arkimet.dataset.Writer</span></a></span></span><a class="headerlink" href="#arkimet.dataset.Session.dataset_writer" title="Permalink to this definition">¶</a></dt>
<dd><p>return a dataset writer give its configuration</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Session.datasets">
<span class="sig-name descname"><span class="pre">datasets</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#arkimet.dataset.Dataset" title="arkimet.dataset.Dataset"><span class="pre">arkimet.dataset.Dataset</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#arkimet.dataset.Session.datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of all datasets in the session pool</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Session.expand_query">
<span class="sig-name descname"><span class="pre">expand_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#arkimet.dataset.Session.expand_query" title="Permalink to this definition">¶</a></dt>
<dd><p>expand aliases in an Arkimet query, returning the same query without use of aliases</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Session.get_alias_database">
<span class="sig-name descname"><span class="pre">get_alias_database</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="arkimet.cfg.html#arkimet.cfg.Sections" title="arkimet.cfg.Sections"><span class="pre">arkimet.cfg.Sections</span></a></span></span><a class="headerlink" href="#arkimet.dataset.Session.get_alias_database" title="Permalink to this definition">¶</a></dt>
<dd><p>return matcher alias database for this session</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Session.has_dataset">
<span class="sig-name descname"><span class="pre">has_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#arkimet.dataset.Session.has_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>check if the dataset pool has a dataset with the given name</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Session.has_datasets">
<span class="sig-name descname"><span class="pre">has_datasets</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#arkimet.dataset.Session.has_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>return True if the session contains datasets in the dataset pool</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Session.load_aliases">
<span class="sig-name descname"><span class="pre">load_aliases</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aliases</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="arkimet.cfg.html#arkimet.cfg.Sections" title="arkimet.cfg.Sections"><span class="pre">arkimet.cfg.Sections</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arkimet.dataset.Session.load_aliases" title="Permalink to this definition">¶</a></dt>
<dd><p>add the given set of aliases to the alias database in this session</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Session.matcher">
<span class="sig-name descname"><span class="pre">matcher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="arkimet.html#arkimet.Matcher" title="arkimet.Matcher"><span class="pre">arkimet.Matcher</span></a></span></span><a class="headerlink" href="#arkimet.dataset.Session.matcher" title="Permalink to this definition">¶</a></dt>
<dd><p>parse an arkimet matcher expression, using the aliases in this session, and return the Matcher object for it</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Session.merged">
<span class="sig-name descname"><span class="pre">merged</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#arkimet.dataset.Dataset" title="arkimet.dataset.Dataset"><span class="pre">arkimet.dataset.Dataset</span></a></span></span><a class="headerlink" href="#arkimet.dataset.Session.merged" title="Permalink to this definition">¶</a></dt>
<dd><p>return a merged dataset querying all datasets in this session</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Session.querymacro">
<span class="sig-name descname"><span class="pre">querymacro</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">macro</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#arkimet.dataset.Dataset" title="arkimet.dataset.Dataset"><span class="pre">arkimet.dataset.Dataset</span></a></span></span><a class="headerlink" href="#arkimet.dataset.Session.querymacro" title="Permalink to this definition">¶</a></dt>
<dd><p>create a QueryMacro dataset querying datasets from this session’s pool</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="arkimet.dataset.SessionTimeOverride">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">arkimet.dataset.</span></span><span class="sig-name descname"><span class="pre">SessionTimeOverride</span></span><a class="headerlink" href="#arkimet.dataset.SessionTimeOverride" title="Permalink to this definition">¶</a></dt>
<dd><p>Write functions for an arkimet dataset.</p>
<p>TODO: document</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TODO</span><span class="p">:</span> <span class="n">add</span> <span class="n">examples</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="arkimet.dataset.Writer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">arkimet.dataset.</span></span><span class="sig-name descname"><span class="pre">Writer</span></span><a class="headerlink" href="#arkimet.dataset.Writer" title="Permalink to this definition">¶</a></dt>
<dd><p>Write functions for an arkimet dataset.</p>
<p>TODO: document</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TODO</span><span class="p">:</span> <span class="n">add</span> <span class="n">examples</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Writer.acquire">
<span class="sig-name descname"><span class="pre">acquire</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">md</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">arki.Metadata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_cached_data_on_commit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#arkimet.dataset.Writer.acquire" title="Permalink to this definition">¶</a></dt>
<dd><p>Acquire the given metadata item (and related data) in this dataset</p>
<p>After acquiring the data successfully, the data can be retrieved from
the dataset.  Also, information such as the dataset name and the id of
the data in the dataset are added to the Metadata object.</p>
<p>If the import failed, a subclass of arki.dataset.ImportError is raised.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Writer.acquire_batch">
<span class="sig-name descname"><span class="pre">acquire_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">md</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="arkimet.html#arkimet.Metadata" title="arkimet.Metadata"><span class="pre">arkimet.Metadata</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_cached_data_on_commit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#arkimet.dataset.Writer.acquire_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Acquire the given metadata items (and related data) in this dataset</p>
<p>After acquiring the data successfully, the data can be retrieved from
the dataset.  Also, information such as the dataset name and the id of
the data in the dataset are added to the Metadata objects.</p>
<p>No exception is raised in case of import failures. The function returns a tuple
with the same length and the input sequence of metadata, and a string
representing the outcome: “ok”, “duplicate”, or “error”.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="arkimet.dataset.Writer.flush">
<span class="sig-name descname"><span class="pre">flush</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arkimet.dataset.Writer.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush pending changes to disk</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="arkimet.dataset.read_config">
<span class="sig-prename descclassname"><span class="pre">arkimet.dataset.</span></span><span class="sig-name descname"><span class="pre">read_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">arki.cfg.Section</span></span></span><a class="headerlink" href="#arkimet.dataset.read_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the configuration of a dataset at the given path or URL</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="arkimet.dataset.read_configs">
<span class="sig-prename descclassname"><span class="pre">arkimet.dataset.</span></span><span class="sig-name descname"><span class="pre">read_configs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">arki.cfg.Sections</span></span></span><a class="headerlink" href="#arkimet.dataset.read_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the merged dataset configuration at the given path or URL</p>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">arkimet</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../metadata.html">Metadata types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matcher.html">Match expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../segments.html">Data segments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../http-api.html">arki-server HTTP API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config.html">Arkimet runtime configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../match-alias.html">Arkimet match-alias.conf database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-howtos/index.html">Arkimet Python HOWTOs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-howtos/index.html#indices-and-tables">Indices and tables</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Arkimet Python API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="arkimet.html">arkimet package</a></li>
<li class="toctree-l2"><a class="reference internal" href="arkimet.cfg.html">arkimet.cfg package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">arkimet.dataset package</a></li>
<li class="toctree-l2"><a class="reference internal" href="arkimet.scan.html">arkimet.scan package</a></li>
<li class="toctree-l2"><a class="reference internal" href="arkimet.formatter.html">arkimet.formatter package</a></li>
<li class="toctree-l2"><a class="reference internal" href="arkimet.bbox.html">arkimet.bbox package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#indices-and-tables">Indices and tables</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Arkimet Python API</a><ul>
  <li><a href="arkimet.html">arkimet package</a><ul>
      <li>Previous: <a href="arkimet.cfg.html" title="previous chapter">arkimet.cfg package</a></li>
      <li>Next: <a href="arkimet.scan.html" title="next chapter">arkimet.scan package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Enrico Zini.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.4.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/python/arkimet.dataset.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>